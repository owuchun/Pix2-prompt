/**
 * add-viral-prompts.js
 * ç¬¬3æ‰¹çˆ†æ¬¾çŸ­å‰§ä¸é­”æ³•äº’åŠ¨æç¤ºè¯è¡¥å……ï¼š
 * - ç”¨æˆ·æŒ‡å®šçš„â€œå¼¹æŒ‡é£è½¦â€é­”æ³•äº’åŠ¨
 * - æŠ–éŸ³/TikTok é£æ ¼çš„å¡ç‚¹è½¬åœºä¸POVå‘ç°ç±»çˆ†æ¬¾è„šæœ¬
 *
 * ç”¨æ³•ï¼šnode add-viral-prompts.js
 */

import fs from 'fs';
import path from 'path';
import { fileURLToPath } from 'url';

const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

const DB_PATH = path.resolve(__dirname, '../references/seedance_prompts.json');

const viralPrompts = [
    {
        title: "å¼¹æŒ‡é£è½¦é­”æ³•äº’åŠ¨ï¼ˆçˆ†æ¬¾ç‰¹æ•ˆï¼‰",
        description: "ç¬¬ä¸€äººè§†è§’ï¼Œæ‰‹å¯¹ç€é©¬è·¯å¼¹åŠ¨æ‰‹æŒ‡ï¼Œè½¦è¾†éšèŠ‚å¥è¢«â€˜å¼¹é£â€™ï¼Œå±•ç¤ºèŠ‚å¥æ„Ÿä¸è¶…ç°å®ç‰¹æ•ˆçš„ç»“åˆã€‚",
        prompt: "ç¬¬ä¸€äººç§° POV è§†è§’ï¼Œä¸€åªäººæ‰‹å‡ºç°åœ¨é•œå¤´ä¸­å¤®ï¼ŒèƒŒæ™¯æ˜¯ç¹åå–§é—¹çš„åŸå¸‚é©¬è·¯ï¼Œè½¦è¾†å·æµä¸æ¯ã€‚éšèƒŒæ™¯éŸ³ä¹å¼ºçƒˆçš„å¡ç‚¹èŠ‚å¥ï¼Œæ‰‹åšå‡ºå¼¹åŠ¨æ‰‹æŒ‡çš„åŠ¨ä½œã€‚0-3ç§’ï¼šç¬¬ä¸€ä¸ªå¼¹æŒ‡ï¼Œè·¯è¾¹çš„ä¸€è¾†çº¢è‰²å°è½¿è½¦ç¬é—´åƒè¢«æ— å½¢åŠ›é‡å‡»ä¸­ï¼Œåˆ’å‡ºå¼§çº¿é£å‘ç©ºä¸­å¹¶ç‚¸æˆçƒŸèŠ±ç²’å­ï¼›4-12ç§’ï¼šæ¥è¿ä¸‰ä¸ªè¿ç»­å¼¹æŒ‡ï¼Œè·¯é¢ä¸Šçš„å…¬äº¤è½¦ã€å‡ºç§Ÿè½¦ã€è·¯ç¯æ†ä¾æ¬¡è¢«ç²¾å‡†å¼¹å‡ºï¼Œåƒç©å…·ä¸€æ ·ç¿»æ»šé£å‡ºç”»é¢ï¼›13-15ç§’ï¼šæœ€åä¸€ä¸ªå¼¹æŒ‡ï¼Œé•œå¤´å‰§çƒˆæ‘‡æ™ƒï¼Œæ•´ä¸ªé©¬è·¯ä¼¼ä¹éƒ½åœ¨é¢¤æŠ–ï¼ŒèƒŒæ™¯éŸ³ä¹æˆ›ç„¶è€Œæ­¢ï¼Œç”»é¢å®šæ ¼åœ¨ç©ºè¡è¡çš„è¡—é“ä¸Šã€‚ç”µå½±çº§ç‰¹æ•ˆï¼Œç‰©ç†ç¢°æ’çœŸå®ï¼Œ16:9æ¨ªå±ã€‚",
        source: "ç”¨æˆ·å®šåˆ¶/æŠ–éŸ³çƒ­é—¨",
        category: "äº’åŠ¨ç‰¹æ•ˆ",
        tags: ["é­”æ³•", "å¡ç‚¹", "è¶…ç°å®", "POV"]
    },
    {
        title: "èŠ‚å¥å¡ç‚¹è½¬åœºï¼šè¡—å¤´è‡³èµ›åšï¼ˆçˆ†æ¬¾è½¬åœºï¼‰",
        description: "åˆ©ç”¨å¼ºèŠ‚å¥éŸ³ä¹å®ç°åœºæ™¯é¡ºæ»‘åˆ‡æ¢ï¼Œå±•ç¤º Seedance 2.0 çš„åœºæ™¯ä¸€è‡´æ€§ä¸è½¬åœºèƒ½åŠ›ã€‚",
        prompt: "@å›¾ç‰‡1ä½œä¸ºé¦–å¸§ï¼Œä¸€ä¸ªæ½®é…·é’å¹´ç«™åœ¨æ™®é€šçš„ç°è‰²è¡—å¤´ã€‚éŸ³ä¹é‡éŸ³å“èµ·ï¼Œ0-3ç§’ï¼šäººç‰©è·³èµ·ï¼Œè½¬åœºè‡³@å›¾ç‰‡2çš„èµ›åšæœ‹å…‹éœ“è™¹è¡—å¤´ï¼ŒèŠ‚å¥æå¿«ï¼›4-8ç§’ï¼šäººç‰©åœ¨éœ“è™¹ä¸‹å¿«è·‘ï¼Œæ¯ä¸€æ­¥è½è„šç‚¹éƒ½è§¦å‘åœ°é¢å‰æ™¯çš„å…‰æ³¢æ¶Ÿæ¼ªï¼›9-15ç§’ï¼šè¿ç»­ä¸‰æ¬¡ä¸åŒé£æ ¼åœºæ™¯çš„é—ªåˆ‡ï¼ˆé»‘ç™½ã€æ‰‹ç»˜ã€èƒ¶ç‰‡ï¼‰ï¼Œæœ€ç»ˆå®šæ ¼åœ¨äººç‰©æ‘˜ä¸‹å¤ªé˜³é•œçš„ç‰¹å†™ï¼Œçœ¼ç¥çŠ€åˆ©ã€‚èƒŒæ™¯éŸ³ä¹å¡ç‚¹ç²¾å‡†ï¼Œæ…¢åŠ¨ä½œä¸å¿«åˆ‡ç»“åˆã€‚",
        source: "TikTok Viral",
        category: "éŸ³ä¹å¡ç‚¹",
        tags: ["å¡ç‚¹", "è½¬åœº", "èµ›åšæœ‹å…‹"]
    },
    {
        title: "POVè§†è§’ï¼šå¼€é—¨åçš„ç¥ç§˜æ£®æ—ï¼ˆå‘ç°æ„Ÿï¼‰",
        description: "æ¨¡æ‹Ÿç¬¬ä¸€äººç§°æ¨é—¨è¿›å…¥å¦ä¸€ä¸ªä¸–ç•Œçš„â€˜çˆ±ä¸½ä¸â€™å¼å‘ç°æ„Ÿã€‚",
        prompt: "POV é•œå¤´ï¼Œæ‰‹æ¡ä½ä¸€æ‰‡ç ´æ—§çš„æœ¨é—¨æŠŠæ‰‹å¹¶æ¨å¼€ã€‚0-3ç§’ï¼šç”±äºå®¤å†…è¾ƒæš—ï¼Œé—¨ç¼é€å‡ºåˆºçœ¼çš„ç™½è‰²å¼ºå…‰ï¼›4-12ç§’ï¼šè·¨å‡ºé—¨æ§›çš„ç¬é—´ï¼Œè§†çº¿è±ç„¶å¼€æœ—ï¼ŒåŸæœ¬çš„èµ°å»Šæ¶ˆå¤±ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯@å›¾ç‰‡1ä¸­é‚£ç§å‘å…‰çš„å·¨å¤§è˜‘è‡æ£®æ—ï¼Œå¥‡å¼‚çš„è“è‰²å‘å…‰è´è¶åœ¨é•œå¤´å‰é£è¿‡ï¼›13-15ç§’ï¼šé•œå¤´ç¼“ç¼“æ‹‰å‡å˜æˆèˆªæ‹ï¼Œå±•ç¤ºæ— è¾¹æ— é™…çš„å¥‡å¹»ä¸›æ—å…¨æ™¯ï¼Œä¸è¾¾å°”æ•ˆåº”æ˜æ˜¾ã€‚èƒŒæ™¯éŸ³ä»æ¨é—¨å£°è½¬ä¸ºç©ºçµçš„æ£®æ—ç¯å¢ƒéŸ³ã€‚",
        source: "Douyin Viral",
        category: "POVå™äº‹",
        tags: ["å¥‡å¹»", "ç¬¬ä¸€äººç§°", "å‘ç°æ„Ÿ"]
    },
    {
        title: "ç¾é£Ÿå˜è£…é­”æ³•ï¼šç”Ÿé²œå˜ä½³è‚´ï¼ˆå˜è£…ç±»ï¼‰",
        description: "æ‰‹åœ¨é£Ÿæä¸Šæ–¹æŠ¹è¿‡ï¼Œé£ŸæéšèŠ‚å¥ç¬é—´å˜æˆæˆå“èœè‚´çš„â€˜å˜è‰²â€™é­”æ³•ã€‚",
        prompt: "å›ºå®šä¿¯æ‹é•œå¤´ï¼Œ@å›¾ç‰‡1æ˜¯ä¸€ç›˜è¿˜æ²¡å¤„ç†çš„åŸå§‹é£Ÿæï¼ˆç”Ÿç‰›æ’å’Œè”¬èœï¼‰ã€‚éšç€éŸ³ä¹èŠ‚å¥ï¼Œä¸€åªæ‰‹ä»å·¦åˆ°å³æ»‘è¿‡ç›˜å­ä¸Šç©ºã€‚0-5ç§’ï¼šæ‰‹æ»‘è¿‡å¤„ï¼Œç”Ÿè‚‰ç¬é—´å˜æˆæ»‹æ»‹å†’æ²¹çš„ç†Ÿç‰›æ’ï¼Œçƒ­æ°”å‡è…¾ï¼›6-10ç§’ï¼šç¬¬äºŒæ¬¡æ»‘è¿‡ï¼Œé…èœå®Œç¾æ‘†ç›˜ï¼Œé…±æ±åƒé­”æ³•ä¸€æ ·è¦†ç›–å…¶è¡¨ï¼›11-15ç§’ï¼šæœ€åä¸€ä¸‹å“æŒ‡ï¼Œç”»é¢è½¬ä¸ºç”µå½±æ„Ÿç‰¹å†™ï¼Œå‰å­æŒ‘èµ·ä¸€å°å—è‚‰ï¼Œæ¨ªæˆªé¢é²œå«©å¤šæ±ï¼ŒèƒŒæ™¯è™šç„¦ï¼Œæš–é‡‘è‰²ç¯å…‰ã€‚ç²¾è‡´ç¾é£Ÿæ‘„å½±é£æ ¼ã€‚",
        source: "ç¾é£Ÿå‚ç±»çˆ†æ¬¾",
        category: "åˆ›æ„ç‰¹æ•ˆ",
        tags: ["ç¾é£Ÿ", "å˜è£…", "å¡ç‚¹"]
    },
    {
        title: "è¡—å¤´æ¶‚é¸¦å¤æ´»ï¼ˆè¶…ç°å®ç‰¹æ•ˆï¼‰",
        description: "å¢™ä¸Šçš„æ¶‚é¸¦äººç‰©çªç„¶â€˜èµ°ä¸‹â€™å¢™å£ï¼Œåœ¨è¡—å¤´ä¸ç°å®äº’åŠ¨ã€‚",
        prompt: "å…¨æ™¯é•œå¤´ï¼Œä¸€å µæ¶‚æ»¡é²œè‰³æ¶‚é¸¦çš„çº¢ç –å¢™ã€‚0-5ç§’ï¼šé•œå¤´æ¨å‘æ¶‚é¸¦å¢™ä¸Šçš„æ»‘æ¿å°‘å¹´å½¢è±¡ï¼Œçªç„¶æ»‘æ¿å°‘å¹´çš„è½®å­è½¬åŠ¨ï¼Œå‘å‡ºæ»‘æ¿åœ¨å¢™ä¸Šçš„æ‘©æ“¦å£°ï¼›6-12ç§’ï¼šæ¶‚é¸¦å°‘å¹´ä»å¢™å£ä¸­ä¸‰ç»´åŒ–â€˜è·³å‡ºâ€™ï¼ŒçœŸå®è½åœ°å¹¶æ»‘å‘é•œå¤´ï¼Œæ²¿é€”ç•™ä¸‹çš„å½©è‰²å–·æ¼†ç—•è¿¹ä¸åœ°é¢äº’åŠ¨ï¼›13-15ç§’ï¼šå°‘å¹´å›å¤´ä¸€ç¬‘ï¼Œç¬é—´åˆåŒ–ä¸ºä¸€é˜µå½©çƒŸæ•£å»ï¼Œå¢™ä¸Šä»…å‰©ä¸€ä¸ªæ¨¡ç³Šçš„è½®å»“ã€‚2Dè½¬3Dè§†è§‰å¥‡æ•ˆï¼Œç»“åˆè¡—å¤´å˜»å“ˆéŸ³ä¹ã€‚",
        source: "äº¤äº’ç‰¹æ•ˆåº“",
        category: "ç¤¾äº¤æ½®æµ",
        tags: ["è¶…ç°å®", "è‰ºæœ¯", "äº’åŠ¨"]
    }
];

// åŠ è½½ç°æœ‰æ•°æ®åº“
let db = [];
if (fs.existsSync(DB_PATH)) {
    db = JSON.parse(fs.readFileSync(DB_PATH, 'utf-8'));
    console.log(`âœ… å·²åŠ è½½ç°æœ‰æ•°æ®åº“: ${db.length} æ¡`);
}

// å»é‡åˆå¹¶
const existingTitles = new Set(db.map(e => e.title.toLowerCase()));
let added = 0;
for (const p of viralPrompts) {
    if (!existingTitles.has(p.title.toLowerCase())) {
        db.push(p);
        existingTitles.add(p.title.toLowerCase());
        added++;
        console.log(`  âœ… æ–°å¢çˆ†æ¬¾æ¨¡æ¿: ${p.title}`);
    } else {
        console.log(`  â­ï¸ è·³è¿‡å·²å­˜åœ¨é¡¹: ${p.title}`);
    }
}

// å†™å…¥
fs.writeFileSync(DB_PATH, JSON.stringify(db, null, 2), 'utf-8');
console.log(`\nğŸ“Š çˆ†æ¬¾æ‰©å……å®Œæˆï¼æ–°å¢ ${added} æ¡ï¼Œæœ€ç»ˆæ€»è®¡ ${db.length} æ¡æç¤ºè¯ã€‚`);
